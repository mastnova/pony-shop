{"version":3,"sources":["modals/BasketModal/BasketModal.module.css","modals/FiltersModal/FiltersModal.module.css","features/ProductCard/ProductCard.module.css","features/Modal/Modal.module.css","pages/Showcase/Showcase.module.css","features/Pagination/Pagination.module.css","App.module.css","components/Button/Button.module.css","features/Overlay/Overlay.module.css","components/Button/Button.js","features/Overlay/Overlay.js","features/Modal/Modal.js","utils/index.js","modals/BasketModal/BasketModal.js","modals/FiltersModal/FiltersModal.js","features/Pagination/Pagination.js","images/thumbnail.png","features/ProductCard/ProductCard.js","pages/Showcase/Showcase.js","App.js","index.js"],"names":["module","exports","Button","variant","children","className","props","extraClass","styles","Overlay","show","onClose","element","useRef","current","overlay","document","createElement","body","appendChild","style","overflow","useEffect","remove","ReactDOM","createPortal","onClick","Modal","title","wrapper","layout","modal","e","stopPropagation","closeButton","content","names","colors","kinds","API","Promise","resolve","BasketModal","products","dispatch","useContext","AppDispatch","useState","isOrderComplete","setIsOrderComplete","window","navigator","onLine","isOnline","setIsOnline","setOnline","setOffline","addEventListener","removeEventListener","totalPrice","reduce","total","product","price","count","productList","forEach","id","push","handleOrderClick","a","type","handleClose","payload","length","map","productRow","name","productPrice","summary","disabled","alert","FiltersModal","initialFilters","filters","setFilters","handleChange","target","value","checked","onSubmit","preventDefault","row","color","onChange","kind","min","max","step","minPrice","maxPrice","onlyNew","button","Pagination","currentPage","itemsPerPage","pageCount","Math","ceil","pagination","Array","fill","el","i","page","active","ProductCard","handler","card","is_new","labelNew","subtitle","thumbnail","src","alt","Showcase","startIndex","productsOnPage","slice","showcase","selectRandomItem","items","floor","random","index","generatePonies","basket","localStorage","getItem","initialState","JSON","parse","showFilters","showBasket","reducer","state","action","filter","item","Error","React","createContext","App","useReducer","filteredProducts","useMemo","setItem","stringify","Provider","app","topBar","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1b721ac2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"BasketModal_content__29d-u\",\"productRow\":\"BasketModal_productRow__6tUYG\",\"productPrice\":\"BasketModal_productPrice__qim_Y\",\"summary\":\"BasketModal_summary__23T2O\",\"alert\":\"BasketModal_alert__1P9nz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"FiltersModal_filters__1K7ZS\",\"row\":\"FiltersModal_row__gbMQZ\",\"button\":\"FiltersModal_button__1p4Rt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ProductCard_card__14FPA\",\"subtitle\":\"ProductCard_subtitle__1jUId\",\"thumbnail\":\"ProductCard_thumbnail__2jSaI\",\"labelNew\":\"ProductCard_labelNew__H2GtS\",\"price\":\"ProductCard_price__yDmtw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Modal_wrapper__3hVN1\",\"layout\":\"Modal_layout__2wPfe\",\"modal\":\"Modal_modal__1UXHZ\",\"title\":\"Modal_title__1RpPo\",\"closeButton\":\"Modal_closeButton__3bgXe\",\"content\":\"Modal_content__1ypzp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"showcase\":\"Showcase_showcase__K-Q2c\",\"content\":\"Showcase_content__3Usz6\",\"pagination\":\"Showcase_pagination__3smgE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__248IU\",\"active\":\"Pagination_active__TF9pF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"topBar\":\"App_topBar__aK-uF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"Button_default__3Zlg-\",\"action\":\"Button_action__7BEaK\",\"link\":\"Button_link__3eKQO\",\"danger\":\"Button_danger__311uS\",\"success\":\"Button_success__3UXPA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Overlay_overlay__2WtGP\"};","import styles from './Button.module.css';\n\nexport default function Button({ variant = 'default', children, className, ...props }) {\n  const extraClass = className ? ` ${className}` : '';\n  return (\n    <button className={`${styles[variant]}${extraClass}`} {...props}>\n      {children}\n    </button>\n  );\n}","import React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport styles from './Overlay.module.css';\n\nexport default function Overlay({ children, show, onClose }) {\n  const element = useRef();\n\n  if (show && !element.current) {\n    const overlay = document.createElement(\"div\");\n    document.body.appendChild(overlay);\n    document.body.style.overflow = 'hidden';\n    element.current = overlay;\n  }\n\n  useEffect(() => {\n    if (!show && element.current) {\n      element.current.remove();\n      element.current = null;\n      document.body.style.overflow = 'visible';\n    }\n  }, [show]);\n\n  const handleOverlayClick = () => {\n    onClose && onClose();\n  }\n\n  if (!show) return null;\n\n  return ReactDOM.createPortal(\n    <div className={styles.overlay} onClick={handleOverlayClick}>\n      {children}\n    </div>\n    , element.current)\n}","import Overlay from '../Overlay/Overlay';\nimport styles from './Modal.module.css';\n\nexport default function Modal({ title, children, ...props }) {\n  return (\n    <Overlay {...props}>\n      <div className={styles.wrapper}>\n        <div className={styles.layout}>\n          <div className={styles.modal} onClick={e => e.stopPropagation()}>\n            <div className={styles.closeButton} onClick={props.onClose}>+</div>\n            <h2 className={styles.title}>{title}</h2>\n            <div className={styles.content}>\n              {children}\n            </div>\n          </div>\n        </div>\n      </div>\n    </Overlay>\n  );\n}","const names = ['Твайлайт', 'Эпплджек', 'Рэйнбоу', 'Рарити', 'Флаттершай', 'Пинкипай'];\n\nexport const colors = ['Фиолетовый', 'Розовый', 'Желтый', 'Белый', 'Голубой', 'Оранжевый'];\n\nexport const kinds = ['Земная пони', 'Единорог', 'Пегас', 'Аликорн', 'Кирин', 'Чейнджлинг'];\n\nexport function generatePonies(count = 0) {\n  const selectRandomItem = items => items[Math.floor(Math.random() * items.length)];\n\n  return Array(count).fill().map((el, index) => ({\n    id: index + 1,\n    name: selectRandomItem(names),\n    color: selectRandomItem(colors),\n    kind: selectRandomItem(kinds),\n    price: Math.floor(Math.random() * 800 + 100),\n    is_new: selectRandomItem([true, false]),\n  }));\n}\n\nexport function applyFilters(filters, products) {\n  return products.filter(product =>\n    (!filters.color || product.color === filters.color) &&\n    (!filters.kind || product.kind === filters.kind) &&\n    (filters.minPrice <= product.price && product.price <= filters.maxPrice) &&\n    (!filters.onlyNew || product.is_new));\n}\n\nexport const API = {\n  createOrder: () => Promise.resolve()\n}","import { useState, useEffect, useContext } from 'react';\nimport Button from '../../components/Button/Button';\nimport Modal from '../../features/Modal/Modal';\nimport { AppDispatch } from \"../../App\";\nimport { API } from '../../utils';\nimport styles from './BasketModal.module.css';\n\nexport default function BasketModal({ show, products }) {\n  const dispatch = useContext(AppDispatch);\n  const [isOrderComplete, setIsOrderComplete] = useState(false);\n  const [isOnline, setIsOnline] = useState(window.navigator.onLine);\n\n  useEffect(() => {\n    const setOnline = () => setIsOnline(true);\n    const setOffline = () => setIsOnline(false);\n    window.addEventListener('online', setOnline);\n    window.addEventListener('offline', setOffline);\n    return () => {\n      window.removeEventListener('online', setOnline);\n      window.removeEventListener('offline', setOffline);\n    }\n  }, []);\n\n  const totalPrice = products.reduce((total, product) => total + product.price, 0);\n  const count = {};\n  const productList = [];\n\n  products.forEach(product => {\n    if (count[product.id]) {\n      count[product.id] += 1;\n    } else {\n      count[product.id] = 1;\n      productList.push(product);\n    }\n  })\n\n  const handleOrderClick = async () => {\n    await API.createOrder({ products });\n    dispatch({ type: 'clear_basket' });\n    setIsOrderComplete(true);\n  }\n\n  const handleClose = () => {\n    setIsOrderComplete(false);\n    dispatch({ type: 'show_basket', payload: false });\n  }\n\n  let content;\n  if (isOrderComplete) {\n    content = (\n      <div className={styles.content}>\n        <p>Поздравляем с покупкой!</p>\n        <Button variant=\"success\" onClick={handleClose}>OK</Button>\n      </div>\n    );\n  } else if (!products.length) {\n    content = (\n      <div className={styles.content}>\n        <p>Тут пусто! Добавьте товар в корзину!</p>\n        <Button variant=\"success\" onClick={handleClose}>OK</Button>\n      </div>\n    );\n  } else {\n    content = (\n      <div className={styles.content}>\n        {\n          productList.map(product => (\n            <div className={styles.productRow} key={product.id}>\n              <span><b>{product.name}</b> - {count[product.id]} шт.</span>\n              <span>\n                <span className={styles.productPrice}>\n                  {product.price * count[product.id]} &#8381;\n                </span>\n                <Button\n                  variant=\"danger\"\n                  onClick={() => dispatch({ type: 'remove_product', payload: product.id })}\n                >\n                  X\n                </Button>\n              </span>\n            </div>\n          ))\n        }\n        <div className={styles.summary}>\n          <div>Количество: {products.length} шт.</div>\n          <div>Итого: <b>{totalPrice} &#8381;</b></div>\n        </div>\n        <Button\n          variant=\"action\"\n          onClick={handleOrderClick}\n          disabled={!isOnline}\n        >\n          Купить\n        </Button>\n        {!isOnline && <div className={styles.alert}>Нет сети! Проверьте подключение к интернету</div>}\n      </div>\n    );\n  }\n\n  return (\n    <Modal title=\"Корзина\" show={show} onClose={handleClose}>\n      {content}\n    </Modal>\n  );\n}","import { useState, useContext } from 'react';\nimport Button from '../../components/Button/Button';\nimport Modal from '../../features/Modal/Modal';\nimport { AppDispatch } from \"../../App\";\nimport { colors, kinds } from '../../utils';\nimport styles from './FiltersModal.module.css';\n\nexport default function FiltersModal({ show, initialFilters }) {\n  const [filters, setFilters] = useState(initialFilters);\n  const dispatch = useContext(AppDispatch);\n\n  const handleChange = ({ target }) => {\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    setFilters(filters => ({ ...filters, [target.name]: value }))\n  }\n\n  const handleClose = () => {\n    dispatch({ type: 'show_filters', payload: false });\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch({ type: 'change_filters', payload: filters });\n    dispatch({ type: 'change_page', payload: 1 });\n    handleClose();\n  }\n\n  return (\n    <Modal title=\"Фильтры\" show={show} onClose={handleClose}>\n      <form className={styles.filters} onSubmit={handleSubmit}>\n        <div className={styles.row}>\n          <label>Цвет</label>\n          <select name=\"color\" value={filters.color} onChange={handleChange}>\n            <option value=\"\">Все цвета</option>\n            {\n              colors.map(color => <option key={color} value={color}>{color}</option>)\n            }\n          </select>\n        </div>\n        <div className={styles.row}>\n          <label>Вид</label>\n          <select name=\"kind\" value={filters.kind} onChange={handleChange}>\n            <option value=\"\">Все виды</option>\n            {\n              kinds.map(kind => <option key={kind} value={kind}>{kind}</option>)\n            }\n          </select>\n        </div>\n        <div className={styles.row}>\n          <label>Минимальная цена</label>\n          <input\n            name=\"minPrice\"\n            type=\"range\"\n            min=\"0\"\n            max=\"1000\"\n            step=\"1\"\n            value={filters.minPrice}\n            onChange={handleChange}\n          />\n          {filters.minPrice}\n        </div>\n        <div className={styles.row}>\n          <label>Максимальная цена</label>\n          <input\n            name=\"maxPrice\"\n            type=\"range\"\n            min=\"0\"\n            max=\"1000\"\n            step=\"1\"\n            value={filters.maxPrice}\n            onChange={handleChange}\n          />\n          {filters.maxPrice}\n        </div>\n        <div className={styles.row}>\n          <label>\n            <input\n              name=\"onlyNew\"\n              type=\"checkbox\"\n              checked={filters.onlyNew}\n              onChange={handleChange}\n            />\n            только новинки\n          </label>\n        </div>\n        <div className={styles.button}>\n          <Button variant=\"action\" type=\"submit\">Найти</Button>\n        </div>\n      </form>\n    </Modal>\n  );\n}","import Button from '../../components/Button/Button';\nimport styles from './Pagination.module.css';\n\nexport default function Pagination({ count, currentPage, itemsPerPage, onChange }) {\n  const pageCount = Math.ceil(count / itemsPerPage);\n\n  const handlePreviousButton = () => {\n    if (currentPage > 1) {\n      onChange(currentPage - 1);\n    }\n  }\n\n  const handleNextButton = () => {\n    if (currentPage < pageCount) {\n      onChange(currentPage + 1);\n    }\n  }\n\n  if (pageCount < 2) return null;\n\n  return (\n    <div className={styles.pagination}>\n      <Button onClick={handlePreviousButton} disabled={currentPage === 1}>{'<'}</Button>\n      {\n        Array(pageCount).fill().map((el, i) => {\n          const page = i + 1;\n          return (\n            <span\n              key={page}\n              className={page === currentPage ? styles.active : ''}\n              onClick={() => onChange(page)}\n            >\n              {page}\n            </span>\n          );\n        })\n      }\n      <Button onClick={handleNextButton} disabled={currentPage === pageCount}>{'>'}</Button>\n    </div>\n  );\n}","export default __webpack_public_path__ + \"static/media/thumbnail.7d83689f.png\";","import Button from '../../components/Button/Button';\nimport thumbnail from '../../images/thumbnail.png';\nimport styles from './ProductCard.module.css';\n\nexport default function ProductCard({ product, handler }) {\n  return (\n    <div className={styles.card}>\n      {product.is_new && <div className={styles.labelNew}>new</div>}\n      <h3 className={styles.title}>{product.name}</h3>\n      <div className={styles.subtitle}>{product.kind}</div>\n      <img className={styles.thumbnail} src={thumbnail} alt=\"product thumbnail\" />\n      <div className={styles.subtitle}>{product.color}</div>\n      <div className={styles.price}>{product.price} &#8381;</div>\n      <Button variant=\"action\" onClick={handler}>купить</Button>\n    </div>\n  );\n}","import { useContext } from 'react';\nimport Pagination from '../../features/Pagination/Pagination';\nimport ProductCard from '../../features/ProductCard/ProductCard';\nimport { AppDispatch } from '../../App';\nimport styles from './Showcase.module.css';\n\nexport default function Showcase({ products, currentPage, itemsPerPage }) {\n  const dispatch = useContext(AppDispatch);\n\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const productsOnPage = products.slice(startIndex, startIndex + itemsPerPage);\n\n  return (\n    <div className={styles.showcase}>\n      <div className={styles.content}>\n        {\n          productsOnPage.map(product => (\n            <ProductCard\n              key={product.id}\n              product={product}\n              handler={() => dispatch({ type: 'add_product', payload: product })}\n            />\n          ))\n        }\n      </div>\n      <div className={styles.pagination}>\n        <Pagination\n          count={products.length}\n          currentPage={currentPage}\n          itemsPerPage={itemsPerPage}\n          onChange={page => dispatch({ type: 'change_page', payload: page })}\n        />\n      </div>\n    </div>\n  );\n}","import React, { useEffect, useReducer, useMemo } from 'react';\nimport Button from './components/Button/Button';\nimport BasketModal from './modals/BasketModal/BasketModal';\nimport FiltersModal from './modals/FiltersModal/FiltersModal';\nimport Showcase from './pages/Showcase/Showcase';\nimport { generatePonies, applyFilters } from './utils';\nimport styles from './App.module.css';\n\nconst products = generatePonies(60);\n\nconst basket = localStorage.getItem('basket');\n\nconst initialState = {\n  basket: basket ? JSON.parse(basket) : [],\n  currentPage: 1,\n  itemsPerPage: 20,\n  filters: {\n    color: '',\n    kind: '',\n    minPrice: 0,\n    maxPrice: 1000,\n    onlyNew: false,\n  },\n  showFilters: false,\n  showBasket: false,\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'add_product':\n      return { ...state, basket: [...state.basket, action.payload] };\n    case 'remove_product':\n      return { ...state, basket: state.basket.filter(item => item.id !== action.payload) };\n    case 'clear_basket':\n      return { ...state, basket: [] };\n    case 'change_page':\n      return { ...state, currentPage: action.payload };\n    case 'change_filters':\n      return { ...state, filters: action.payload };\n    case 'show_filters':\n      return { ...state, showFilters: action.payload };\n    case 'show_basket':\n      return { ...state, showBasket: action.payload };\n    default:\n      throw new Error();\n  }\n}\n\nexport const AppDispatch = React.createContext(null);\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const filteredProducts = useMemo(() => applyFilters(state.filters, products), [state.filters]);\n\n  useEffect(() => {\n    localStorage.setItem('basket', JSON.stringify(state.basket));\n  }, [state.basket]);\n\n  return (\n    <AppDispatch.Provider value={dispatch}>\n      <div className={styles.app}>\n        <div className={styles.topBar}>\n          <Button\n            onClick={() => dispatch({ type: 'show_filters', payload: true })}\n            variant=\"link\"\n          >\n            Фильтры\n          </Button>\n          <span>\n            <Button\n              onClick={() => dispatch({ type: 'show_basket', payload: true })}\n              variant=\"link\"\n            >\n              Корзина\n            </Button>\n            {!!state.basket.length && <span className=\"badge\">{state.basket.length}</span>}\n          </span>\n        </div>\n        <Showcase\n          products={filteredProducts}\n          currentPage={state.currentPage}\n          itemsPerPage={state.itemsPerPage}\n        />\n        <FiltersModal\n          show={state.showFilters}\n          initialFilters={state.filters}\n        />\n        <BasketModal\n          show={state.showBasket}\n          products={state.basket}\n        />\n      </div>\n    </AppDispatch.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}